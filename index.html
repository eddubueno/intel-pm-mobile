<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Apoio Operacional ‚Äî Painel T√°tico</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0e1420;
      --panel:#121a2a;
      --ink:#eef6ff;
      --muted:#9fb3c9;
      --line:rgba(255,255,255,.14);
      --accent:#22d3ee;
      --accent2:#6aa3ff;
      --glass:linear-gradient(180deg,rgba(23,35,56,.72),rgba(14,22,36,.9));
      --radius:16px;
    }
    [data-theme="hc"]{
      --bg:#000;
      --panel:#0b0b0b;
      --ink:#fff;
      --muted:#cfcfcf;
      --line:rgba(255,255,255,.35);
      --accent:#00fff0;
      --accent2:#9cc3ff;
    }

    *{box-sizing:border-box;margin:0;padding:0}

    html,body{
      height:100%;
      background:radial-gradient(1200px 800px at 78% -10%, #1b2a44 0%, #0f1a2a 55%, var(--bg) 100%);
      color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
    }

    .wrap{
      min-height:100%;
      display:flex;
      flex-direction:column;
    }

    header{
      position:sticky;
      top:0;
      z-index:50;
      border-bottom:1px solid var(--line);
      background:linear-gradient(0deg,rgba(10,18,32,.7),rgba(10,18,32,.96));
      backdrop-filter:saturate(1.2) blur(10px);
    }

    .bar{
      display:flex;
      align-items:center;
      gap:12px;
      padding:12px 14px;
    }

    .brand{
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:var(--accent);
    }

    .status{
      font-family:"Space Mono",monospace;
      font-size:.8rem;
      border:1px solid var(--line);
      padding:4px 8px;
      border-radius:999px;
      color:var(--muted);
    }

    .grow{flex:1}

    .btn{
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(15,23,42,.4);
      color:var(--ink);
      padding:7px 13px;
      font-size:.85rem;
      display:inline-flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      transition:background .12s ease, transform .06s ease, border-color .12s ease;
    }
    .btn:hover{background:rgba(15,23,42,.9);border-color:rgba(255,255,255,.26)}
    .btn:active{transform:scale(.97)}
    .btn.primary{border-color:transparent;background:linear-gradient(180deg, rgba(34,211,238,.22), rgba(34,211,238,.06))}
    .btn.ghost{background:transparent}

    /* HERO FUTURISTA */
    .hero-banner{
      border-bottom:1px solid var(--line);
      background:radial-gradient(1200px 800px at 20% -20%, rgba(34,211,238,.2) 0%, rgba(15,23,42,1) 50%, #020617 100%);
      padding:18px 18px 22px;
    }
    .hero-inner{
      max-width:960px;
      margin:0 auto;
      display:flex;
      gap:18px;
      align-items:center;
      flex-wrap:wrap;
    }
    .hero-logo-wrap{
      width:80px;
      height:80px;
      position:relative;
    }
    .hero-logo-core{
      width:100%;
      height:100%;
      border-radius:20px;
      background:conic-gradient(from 180deg at 50% 50%, var(--accent), var(--accent2), var(--accent));
      border:1px solid rgba(255,255,255,.28);
      position:relative;
      overflow:hidden;
      animation:spinGlow 12s linear infinite;
    }
    .hero-logo-core::before{
      content:"";
      position:absolute;
      inset:0;
      background:repeating-linear-gradient(
        135deg,
        rgba(0,0,0,.0) 0,
        rgba(0,0,0,.0) 6px,
        rgba(0,0,0,.18) 6px,
        rgba(0,0,0,.18) 10px
      );
      mix-blend-mode:multiply;
      animation:scan 3.8s linear infinite;
    }
    .hero-logo-core::after{
      content:"AO";
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:1.4rem;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:rgba(0,0,0,.8);
    }
    .hero-logo-ring{
      position:absolute;
      inset:-6px;
      border-radius:26px;
      border:1px dashed rgba(148,163,184,.6);
      animation:pulseRing 3.4s ease-in-out infinite;
    }
    .hero-text{
      flex:1;
      min-width:220px;
    }
    .hero-text h1{
      margin:0 0 4px;
      font-size:1.6rem;
      letter-spacing:.12em;
      text-transform:uppercase;
    }
    .hero-text p{
      margin:0;
      color:var(--muted);
      font-size:.95rem;
      max-width:520px;
    }
    .hero-actions{
      display:flex;
      flex-direction:column;
      gap:8px;
      align-items:flex-start;
      margin-top:10px;
    }
    .hero-meta{
      font-family:"Space Mono",monospace;
      font-size:.78rem;
      color:var(--muted);
      opacity:.9;
    }

    @keyframes spinGlow{
      0%{transform:rotate(0deg)}
      100%{transform:rotate(360deg)}
    }
    @keyframes scan{
      0%{transform:translateY(100%)}
      100%{transform:translateY(-100%)}
    }
    @keyframes pulseRing{
      0%,100%{opacity:.45;transform:scale(1)}
      50%{opacity:.9;transform:scale(1.05)}
    }

    main{
      padding:18px;
      display:grid;
      gap:18px;
      grid-template-columns:340px 1fr;
      align-items:flex-start;
    }
    @media (max-width:980px){
      main{grid-template-columns:1fr}
    }

    .card{
      border:1px solid var(--line);
      border-radius:var(--radius);
      overflow:hidden;
      background:var(--glass);
    }
    .card .head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 14px;
      border-bottom:1px solid var(--line);
    }
    .card .title{
      font-weight:800;
      letter-spacing:.02em;
    }
    .card .body{
      padding:14px;
    }

    .hint{
      color:var(--muted);
      font-size:.92rem;
    }

    .pill{
      border:1px solid var(--line);
      padding:2px 8px;
      border-radius:999px;
      color:var(--muted);
      font-size:.75rem;
    }

    /* Busca / lado esquerdo */
    .search{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:12px;
    }
    .search input{
      flex:1;
      padding:12px 14px;
      border-radius:12px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      color:var(--ink);
      font-size:1rem;
      outline:none;
    }
    .search input:focus{
      border-color:rgba(34,211,238,.6);
      box-shadow:0 0 0 4px rgba(34,211,238,.14);
    }

    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
      font-size:.9rem;
    }
    .field input{
      padding:10px 12px;
      border-radius:10px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      color:var(--ink);
      outline:none;
    }

    details summary{
      cursor:pointer;
      font-weight:800;
      margin-bottom:4px;
      list-style:none;
    }
    details summary::-webkit-details-marker{display:none}

    .mini{
      font-size:.86rem;
      color:var(--muted);
    }

    /* Grupos de atalhos */
    .section-title{
      display:flex;
      align-items:center;
      gap:10px;
      margin:8px 0;
      margin-top:14px;
    }
    .section-title .dot{
      width:9px;
      height:9px;
      border-radius:999px;
      background:var(--accent);
    }

    .grid{
      display:grid;
      gap:12px;
    }

    .cols-2{grid-template-columns:repeat(2,1fr)}
    .cols-3{grid-template-columns:repeat(3,1fr)}
    .cols-4{grid-template-columns:repeat(4,1fr)}

    @media (max-width:1100px){
      .cols-4{grid-template-columns:repeat(3,1fr)}
    }
    @media (max-width:780px){
      .cols-3,.cols-4,.cols-2{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:520px){
      .cols-3,.cols-4,.cols-2{grid-template-columns:1fr}
    }

    .qbtn{
      display:flex;
      align-items:center;
      gap:.9rem;
      border:1px solid rgba(255,255,255,.16);
      background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
      padding:14px;
      border-radius:14px;
      font-weight:800;
      cursor:pointer;
      text-align:left;
      transition:transform .06s ease, border-color .12s ease, background .12s ease;
    }
    .qbtn:hover{
      transform:translateY(-1px);
      border-color:rgba(255,255,255,.34);
    }
    .qbtn .ico{
      font-size:1.25rem;
      width:1.6rem;
      text-align:center;
    }
    .qbtn small{
      display:block;
      color:var(--muted);
      font-weight:600;
      font-size:.72rem;
    }

    footer{
      text-align:center;
      padding:14px;
      margin-top:auto;
    }
  </style>
</head>
<body>
<div class="wrap" id="appRoot">

  <header>
    <div class="bar">
      <div class="brand">APOIO OPERACIONAL</div>
      <div class="status" id="status">intel / pm</div>
      <div class="grow"></div>
      <button class="btn ghost" id="btnContrast" title="Alternar alto contraste">üåì Alto contraste</button>
      <button class="btn ghost" id="btnFS" title="Alternar tela cheia">‚õ∂ Tela cheia</button>
    </div>
  </header>

  <!-- HERO FUTURISTA COM LOGO ANIMADO + BOT√ÉO ACESSAR -->
  <section class="hero-banner">
    <div class="hero-inner">
      <div class="hero-logo-wrap">
        <div class="hero-logo-core"></div>
        <div class="hero-logo-ring"></div>
      </div>
      <div class="hero-text">
        <h1>APOIO OPERACIONAL</h1>
        <p>Painel t√°tico de atalhos e recursos para o servi√ßo operacional. Interface discreta, r√°pida e pensada para uso em viatura.</p>
        <div class="hero-actions">
          <button class="btn primary" id="btnAcessar">‚ñ∂ ACESSAR</button>
          <span class="hero-meta">N√≠vel de acesso: interno ¬∑ classifica√ß√£o: uso restrito conforme normas da corpora√ß√£o.</span>
        </div>
      </div>
    </div>
  </section>

  <main id="mainContent">
    <!-- LADO ESQUERDO: filtro + atalhos personalizados + informa√ß√µes -->
    <section class="card">
      <div class="head">
        <div class="title">Painel de Apoio</div>
      </div>
      <div class="body">
        <div class="search">
          <input id="filtro" placeholder="Filtrar atalhos ‚Äî ex.: CPF, BNMP, TJSP, ve√≠culo">
          <button class="btn" id="btnLimpar">Limpar</button>
        </div>
        <p class="hint" style="margin-bottom:12px">
          Dica: digite parte do nome ou sigla (ex.: <b>bnmp</b>, <b>cpf</b>, <b>ve√≠culo</b>). Teclas <b>1 a 9</b> acionam os primeiros atalhos vis√≠veis.
        </p>

        <details>
          <summary>Adicionar atalho personalizado</summary>
          <div class="grid" style="grid-template-columns:1fr 1fr; margin-top:10px">
            <div class="field">
              <label>Nome</label>
              <input id="novoNome" placeholder="Ex.: Sistema interno unidade">
            </div>
            <div class="field">
              <label>URL</label>
              <input id="novoURL" placeholder="https://exemplo.gov.br">
            </div>
          </div>
          <div class="grid" style="grid-template-columns:auto 1fr; align-items:center; margin-top:10px; gap:10px">
            <button class="btn primary" id="btnAddAtalho">Salvar</button>
            <span class="mini">Os atalhos ficam salvos <b>somente neste aparelho</b> (localStorage).</span>
          </div>
        </details>

        <hr style="border:0;border-top:1px solid var(--line);margin:16px 0">

        <p class="hint">
          Nenhuma informa√ß√£o de consulta passa por este painel. Ele apenas abre os
          sites oficiais em nova aba. Ajuste os links conforme normas internas da sua unidade.
        </p>
      </div>
    </section>

    <!-- LADO DIREITO: grupos de atalhos -->
    <section class="card">
      <div class="head">
        <div class="title">Atalhos t√°ticos</div>
        <span class="pill" id="countHint">0 atalhos</span>
      </div>
      <div class="body">

        <!-- Grupo Pessoa -->
        <div class="section-title">
          <div class="dot"></div>
          <div class="title">Pessoa</div>
        </div>
        <div class="grid cols-3" id="grupo-pessoa"></div>

        <!-- Grupo Ve√≠culo -->
        <div class="section-title">
          <div class="dot"></div>
          <div class="title">Ve√≠culo</div>
        </div>
        <div class="grid cols-3" id="grupo-veiculo"></div>

        <!-- Grupo Documentos / Empresas -->
        <div class="section-title">
          <div class="dot"></div>
          <div class="title">Documentos / Empresas</div>
        </div>
        <div class="grid cols-3" id="grupo-docs"></div>

        <!-- Grupo Justi√ßa / Tribunais -->
        <div class="section-title">
          <div class="dot"></div>
          <div class="title">Justi√ßa / Tribunais</div>
        </div>
        <div class="grid cols-3" id="grupo-justica"></div>

        <!-- Receita Federal -->
        <div class="section-title">
          <div class="dot"></div>
          <div class="title">Receita Federal</div>
        </div>
        <div class="grid cols-2" id="grupo-receita"></div>

        <!-- Meus Atalhos -->
        <div class="section-title">
          <div class="dot"></div>
          <div class="title">Meus atalhos</div>
        </div>
        <div class="grid cols-4" id="grupo-custom"></div>
        <div class="hint" id="vazioCustom" style="margin-top:6px;display:none">
          Nenhum atalho personalizado salvo ainda.
        </div>

      </div>
    </section>
  </main>

  <footer class="hint">
    Apoio Operacional ‚Äî uso interno. Ajuste, versione e compartilhe somente conforme normas da corpora√ß√£o.
  </footer>
</div>

<script>
  /* ======== HELPERS ======== */
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));

  function toast(msg){
    const t = document.createElement('div');
    t.textContent = msg;
    t.style.position = 'fixed';
    t.style.left = '50%';
    t.style.bottom = '18px';
    t.style.transform = 'translateX(-50%)';
    t.style.background = 'rgba(9,16,24,.96)';
    t.style.border = '1px solid rgba(255,255,255,.18)';
    t.style.padding = '8px 12px';
    t.style.borderRadius = '10px';
    t.style.zIndex = 2000;
    t.style.fontSize = '.9rem';
    document.body.appendChild(t);
    setTimeout(()=> t.remove(), 1600);
  }

  function openUrl(url){
    if(url) window.open(url, '_blank', 'noopener');
  }

  /* ======== BOT√ÉO ACESSAR (rola at√© o painel) ======== */
  $('#btnAcessar').addEventListener('click', () => {
    const main = $('#mainContent');
    if(main) main.scrollIntoView({behavior:'smooth'});
  });

  /* ======== TEMA / TELA CHEIA ======== */
  const root = $('#appRoot');

  $('#btnContrast').addEventListener('click', () => {
    const cur = root.getAttribute('data-theme');
    root.setAttribute('data-theme', cur === 'hc' ? '' : 'hc');
  });

  $('#btnFS').addEventListener('click', () => {
    if(!document.fullscreenElement){
      document.documentElement.requestFullscreen();
    }else{
      document.exitFullscreen();
    }
  });

  /* ======== DADOS BASE DE ATALHOS ======== */
  const BASE_ATALHOS = {
    pessoa: [
      {nome:'Consulta CPF ‚Äî Receita', sigla:'cpf pessoa receita', url:'https://servicos.receita.fazenda.gov.br/servicos/cpf/consultasituacao/consultapublica.asp', ico:'üÜî'},
      {nome:'Consulta processos ‚Äî TJSP', sigla:'tjsp pessoa processo', url:'https://esaj.tjsp.jus.br/cpopg/open.do', ico:'‚öñÔ∏è'},
      {nome:'BNMP ‚Äî Mandados', sigla:'bnmp mandados pessoa', url:'https://portalbnmp.cnj.jus.br/#/captcha/%2Fpesquisa-peca', ico:'üóÇÔ∏è'},
    ],
    veiculo: [
      {nome:'Detran-SP ‚Äî Ve√≠culos', sigla:'detran sp veiculo', url:'https://www.detran.sp.gov.br', ico:'üöó'},
      // IPVA e Portal geral de multas foram removidos a pedido
    ],
    docs: [
      {nome:'Consulta CNPJ ‚Äî Receita', sigla:'cnpj empresa receita', url:'https://solucoes.receita.fazenda.gov.br/servicos/cnpjreva/Cnpjreva_Solicitacao.asp', ico:'üè¢'},
      {nome:'Validade de selo ‚Äî TJSP', sigla:'tjsp selo cartorio', url:'https://extrajudicial.tjsp.jus.br/validade-selo', ico:'‚úÖ'},
    ],
    justica: [
      {nome:'BNMP ‚Äî Mandados', sigla:'bnmp cnj justica', url:'https://portalbnmp.cnj.jus.br/#/captcha/%2Fpesquisa-peca', ico:'üóÇÔ∏è'},
      {nome:'TJSP ‚Äî Consulta Processo', sigla:'tjsp processo justica', url:'https://esaj.tjsp.jus.br/cpopg/open.do', ico:'‚öñÔ∏è'},
    ],
    receita: [
      {nome:'Consulta CPF', sigla:'cpf receita', url:'https://servicos.receita.fazenda.gov.br/servicos/cpf/consultasituacao/consultapublica.asp', ico:'üÜî'},
      {nome:'Consulta CNPJ', sigla:'cnpj receita', url:'https://solucoes.receita.fazenda.gov.br/servicos/cnpjreva/Cnpjreva_Solicitacao.asp', ico:'üè¢'},
    ]
  };

  const LS_KEY = 'intelpm.custom.shortcuts';
  const loadCustom = () => JSON.parse(localStorage.getItem(LS_KEY) || '[]');
  const saveCustom = (arr) => localStorage.setItem(LS_KEY, JSON.stringify(arr));

  /* ======== RENDER ======== */
  const boxPessoa   = $('#grupo-pessoa');
  const boxVeiculo  = $('#grupo-veiculo');
  const boxDocs     = $('#grupo-docs');
  const boxJustica  = $('#grupo-justica');
  const boxReceita  = $('#grupo-receita');
  const boxCustom   = $('#grupo-custom');
  const vazioCustom = $('#vazioCustom');
  const countHint   = $('#countHint');

  function renderBtn(item, isCustom=false, idx=null){
    const b = document.createElement('button');
    b.className = 'qbtn';
    b.setAttribute('data-name', (item.nome || '').toLowerCase());
    b.setAttribute('data-sigla', (item.sigla || '').toLowerCase());

    let host = '';
    try{ host = new URL(item.url).hostname; }catch{}

    b.innerHTML = `
      <span class="ico">${item.ico || 'üîó'}</span>
      <span>
        <span style="display:block">${item.nome}</span>
        <small>${host}</small>
      </span>
    `;

    b.addEventListener('click', () => openUrl(item.url));

    if(isCustom){
      const del = document.createElement('span');
      del.title = 'Remover atalho';
      del.textContent = '‚úñ';
      del.style.marginLeft = 'auto';
      del.style.opacity = .7;
      del.style.fontWeight = '900';
      del.style.cursor = 'pointer';
      del.addEventListener('click', (e) => {
        e.stopPropagation();
        const cur = loadCustom();
        cur.splice(idx, 1);
        saveCustom(cur);
        renderAll();
        toast('Atalho removido');
      });
      b.appendChild(del);
    }

    return b;
  }

  function renderGroup(container, items, isCustom=false){
    container.innerHTML = '';
    items.forEach((it, i) => container.appendChild(renderBtn(it, isCustom, i)));
  }

  function filterItems(items, term){
    if(!term) return items;
    return items.filter(it =>
      it.nome.toLowerCase().includes(term) ||
      (it.sigla || '').toLowerCase().includes(term)
    );
  }

  function renderAll(){
    const term = ($('#filtro').value || '').trim().toLowerCase();

    const pessoa  = filterItems(BASE_ATALHOS.pessoa, term);
    const veiculo = filterItems(BASE_ATALHOS.veiculo, term);
    const docs    = filterItems(BASE_ATALHOS.docs, term);
    const just    = filterItems(BASE_ATALHOS.justica, term);
    const rec     = filterItems(BASE_ATALHOS.receita, term);
    const custom  = filterItems(loadCustom(), term);

    renderGroup(boxPessoa,  pessoa, false);
    renderGroup(boxVeiculo, veiculo, false);
    renderGroup(boxDocs,    docs,    false);
    renderGroup(boxJustica, just,    false);
    renderGroup(boxReceita, rec,     false);
    renderGroup(boxCustom,  custom,  true);

    vazioCustom.style.display = custom.length ? 'none' : 'block';

    const total = pessoa.length + veiculo.length + docs.length + just.length + rec.length + custom.length;
    countHint.textContent = `${total} atalhos`;
  }

  renderAll();

  /* ======== BUSCA / LIMPAR ======== */
  $('#filtro').addEventListener('input', renderAll);
  $('#btnLimpar').addEventListener('click', () => {
    $('#filtro').value = '';
    renderAll();
  });

  /* ======== NOVO ATALHO PERSONALIZADO ======== */
  $('#btnAddAtalho').addEventListener('click', () => {
    const nome = ($('#novoNome').value || '').trim();
    const url  = ($('#novoURL').value  || '').trim();

    if(!nome || !url){
      toast('Preencha Nome e URL');
      return;
    }
    try{
      new URL(url);
    }catch{
      toast('URL inv√°lida');
      return;
    }

    const cur = loadCustom();
    cur.unshift({nome, url, sigla:nome, ico:'üîé'});
    saveCustom(cur);

    $('#novoNome').value = '';
    $('#novoURL').value  = '';
    renderAll();
    toast('Atalho salvo');
  });

  /* ======== TECLAS R√ÅPIDAS (1..9) ======== */
  document.addEventListener('keydown', (e) => {
    if(e.altKey || e.ctrlKey || e.metaKey) return;
    const n = parseInt(e.key, 10);
    if(isNaN(n) || n < 1) return;

    const visibles = $$('.qbtn');
    const idx = n - 1;
    if(visibles[idx]) visibles[idx].click();
  });
</script>
</body>
</html>
